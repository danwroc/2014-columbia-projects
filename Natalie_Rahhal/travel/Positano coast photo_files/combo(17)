YUI.add("photo-exif-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getExif"].run(t,this.appContext).then(function(e){return e},function(){})}},attributes:{camera:{},fNumber:{},exposureTime:{},lensModel:{},iso:{},focalLength:{},software:{}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photos-getExif-fetcher"]});
YUI.add("flickr-photos-getExif-fetcher",function(e){"use strict";function t(e,t){var n=e[0],r,i,s=e[1],o,u;if(n.photo)return r=e[0].photo.exif||[],i=e[0].photo.camera,o={id:t.id,camera:i,data:[]},r.forEach(function(e){var t,n,r;e.tag&&e.raw&&(n=e.tag.search(/([A-Z][a-z])/),n===0&&(n=1),n===-1&&(n=e.tag.length),r=e.tag.slice(0,n).toLowerCase()+e.tag.slice(n),o[r]=t=e.raw.content,o.data.push({label:e.label,value:t}))}),u=[["lensModel","lens"]],u.forEach(function(e){var t=e.shift();while(e.length&&o[t]===undefined)o[t]=o[e.shift()]}),s.exists(t.id)||s.add(o),s.proxy(t.id)}function n(t,n){var r=t.id,i={photo_id:r},s=this;return e.batch(n.callAPI("flickr.photos.getExif",i),n.getModelRegistry("photo-exif-models")).then(function(e){return s._processResponse(e,t)},function(e){throw n[e.fatal?"error":"debug"]("[flickr-photos-getExif-fetcher] failed getting or processing API response:",e),e})}e.namespace("ModelFetchers")["flickr-photos-getExif"]={run:n,_processResponse:t}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-exif-models"]});
